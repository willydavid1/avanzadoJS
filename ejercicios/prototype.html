<html>

<head>
  <title>Prototype</title>
</head>

<body>
  <a href="/ejercicios/">Go back</a>
  <p><em>Abre la consola</em></p>

  <script>
    // Un objeto común y corriente
    // const zelda = {
    //   name: "Zelda"
    // }
    // zelda.saludar = function () {
    //   console.log(`Hola soy ${this.name}`)
    // }
    // zelda.saludar()

    // otro objeto mas
    // const link = {
    //   name: "link"
    // }
    // link.saludar = function () {
    //   console.log(`Hola soy ${this.name}`)
    // }
    // link.saludar()


    // Seamos un poco más eficientes | pero la funcion saludar cada vez se define cuando llamamos Hero
    // function Hero(name) {
    //   const hero = {
    //     name: name
    //   }

    //   hero.saludar = function () {
    //     console.log(`Hola soy ${this.name}`)
    //   }
    //   return hero
    // }
    // const zelda = Hero("Zelda")
    // zelda.saludar()
    // const link = Hero("Link")
    // link.saludar()


    // Aun podemos mejorar más y evitar tener que crear la misma función cada vez
    // const heroMethods = {
    //   saludar: function () {
    //     console.log(`Me llamo ${this.name}`)
    //   }
    // }

    // function Hero(name) {
    //   const hero = {
    //     name: name
    //   }

    //   hero.saludar = heroMethods.saludar
    //   return hero
    // }
    // const zelda = Hero("Zelda")
    // zelda.saludar()
    // const link = Hero("Link")
    // link.saludar()


    // Object.create(objeto) | todas las propiedades de Un objeto pasan a hacer parte del proto de este nuevo objeto
    // const nuevoObjeto = Object.create(objeto)
    // const heroMethods = {
    //   saludar: function () {
    //     console.log(`Soy super heroe ${this.name}`)
    //   }
    // }

    // function Hero(name) {
    //   const hero = Object.create(heroMethods) //todas las propiedades de heroMethods pasan a hacer parte del proto de este nuevo objeto
    //   hero.name = name
    //   return hero
    // }
    // const zelda = Hero("Zelda")
    // zelda.saludar()
    // const link = Hero("Link")
    // link.saludar()



    // Los métodos de hero dentro de Hero | inicialmente el prototype es un objeto vacio
    // function Hero(name) {
    //   const hero = Object.create(Hero.prototype) //todas las propiedades de heroMethods pasan a hacer parte del proto del este nuevo objeto
    //   hero.name = name
    //   return hero
    // }

    // Hero.prototype.saludar = function () {
    //   console.log(`Soy super heroe ${this.name}`)
    // }

    // const zelda = Hero("Zelda")
    // zelda.saludar()
    // const link = Hero("Link")
    // link.saludar()



    // new es un atajo (azucar sintactica) para llevar Hero.prototype al objeto que estamos creando, y lo guarda en this
    function Hero(name) {
      // this = Object.create(Hero.prototype) //al usar la palabra new en la instancia pasa lo de prototype a this y se inicializa
      this.name = name
      // return this
    }

    Hero.prototype.saludar = function () {
      console.log(`New: ${this.name}`)
    }

    const zelda = new Hero("Zelda")
    zelda.saludar()
    const link = new Hero("Link")
    link.saludar()

  </script>
</body>

</html>