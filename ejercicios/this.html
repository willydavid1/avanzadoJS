<html>

<head>
  <title>this</title>
</head>

<body>
  <a href="/ejercicios/">Go back</a>
  <p><em>Abre la consola</em></p>

  <h1>
    <code>this</code> se refiere a un objeto. Ese objeto es el que actualmente
    está ejecutando un pedazo de código.
  </h1>

  <script>
    // this en el scope global
    // console.log(`this: ${this}`) // es window



    // this en el scope de una función
    // function whoIsThis() {
    //   return this
    // }
    // console.log(`whoIsThis(): ${whoIsThis()}`) // es window



    // this en el scope de una función en strict mode
    // function whoIsThisStrict() {
    //   "use strict"
    //   return this
    // }
    // console.log(`whoIsThisStrict(): ${whoIsThisStrict()}`) // es undefined por el modo estricto



    // this en el contexto de un objeto
    const person = {
      name: "Gabriel",
      saludar: function () {
        console.log(`hola soy ${this.name}`) //this se refiere al objeto person porque la llama
      }
    }
    person.saludar()

    // this cuando sacamos a una función de un objeto
    const accion = person.saludar;
    accion() //se esta llamando sin el contexto de person y por eso no me muestra nada




    // this en el contexto de una "clase" | hace referencia a la instancia generada por el constructor.
    function Person(name) {
      // this = {}
      this.name = name
    }

    Person.prototype.saludar = function () {
      console.log(`Me llamo ${this.name}`)
    }

    const angela = new Person("angela")
    angela.saludar()

      //  Cuando llamamos a this en el Global Scope o Function Scope, se hace referencia al objeto window. A excepción de cuando estamos en strict mode que nos regresará undefined.
      //   Cuando llamamos a this desde una función que está contenida en un objeto, this se hace referencia a ese objeto.
      //   Cuando llamamos a this desde una “clase”, se hace referencia a la instancia generada por el constructor.
      //  En las funciones clásicas el contexto se define al llamarlas y en las funciones flechas se define al declararlas.
  </script>
</body>

</html>